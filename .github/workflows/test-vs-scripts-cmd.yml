name: Test VS Scripts
on:
  [push]

jobs:
  test-vs-scripts-cmd:
    name: Test VS Scripts
    runs-on: windows-latest
    strategy:
      matrix:
        shell: [cmd]
    steps:
      - uses: actions/checkout@v4

      - name: find LLVM
        run: |
          where clang
          clang --version
          rem 检查常见的 CMake config 路径是否存在
          dir "C:\Program Files\LLVM\lib\cmake\clang\ClangConfig.cmake"
          dir "C:\hostedtoolcache\windows\LLVM\20.1.8\x64\lib\cmake\clang\ClangConfig.cmake"

          rem 检查 libclang 是否存在
          dir "C:\Program Files\LLVM\lib\libclang.*"
          dir "C:\Program Files\LLVM\lib\clang\*"
