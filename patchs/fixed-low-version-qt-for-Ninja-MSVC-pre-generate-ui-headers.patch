--- a/qttools/src/designer/src/lib/CMakeLists.txt	2025-09-18 17:43:39.576275700 +0800
+++ b/qttools/src/designer/src/lib/CMakeLists.txt	2025-09-18 20:22:08.700859200 +0800
@@ -180,6 +180,14 @@
         "lib_pch.h"
 )
 
+# Work around QTBUG-95305
+if(CMAKE_GENERATOR STREQUAL "Ninja Multi-Config" AND CMAKE_CROSS_CONFIGS)
+    qt6_wrap_ui(ui_sources_processed ${ui_sources})
+else()
+    set(ui_sources_processed ${ui_sources})
+endif()
+target_sources(Designer PRIVATE ${ui_sources_processed})
+
 # Resources:
 set_source_files_properties("../../../shared/deviceskin/skins/ClamshellPhone.skin"
     PROPERTIES QT_RESOURCE_ALIAS "ClamshellPhone.skin"
@@ -472,6 +480,30 @@
         ../../../shared/qtpropertybrowser
 )
 
+if(TARGET zstd::libzstd)
+    qt_internal_disable_find_package_global_promotion(zstd::libzstd)
+endif()
+if(TARGET zstd::libzstd_shared)
+    qt_internal_disable_find_package_global_promotion(zstd::libzstd_shared)
+endif()
+if(TARGET zstd::libzstd_static)
+    qt_internal_disable_find_package_global_promotion(zstd::libzstd_static)
+endif()
+if(NOT TARGET WrapZSTD::WrapZSTD)
+    qt_find_package(WrapZSTD 1.3
+        PROVIDED_TARGETS
+            WrapZSTD::WrapZSTD
+            zstd::libzstd
+            zstd::libzstd_static
+            zstd::libzstd_shared
+    )
+endif()
+
+qt_internal_extend_target(Designer CONDITION QT_FEATURE_zstd
+    LIBRARIES
+        WrapZSTD::WrapZSTD
+)
+
 if(NOT QT_BUILD_SHARED_LIBS)
     # Resources:
     set_source_files_properties("../../../shared/qtpropertybrowser/images/cursor-arrow.png"
@@ -570,3 +602,6 @@
     LIBRARIES
         Qt::OpenGL
 )
+
+# UiPlugin module generates deprecated header files for Designer.
+qt_internal_add_sync_header_dependencies(Designer UiPlugin)
